<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<meta name="author" content="Daniel GarcÃ­a Carretero">
<title>Library Database in Spanish API Documentation</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/styles/github.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Library Database in Spanish API Documentation</h1>
<div class="details">
<span id="author" class="author">Daniel GarcÃ­a Carretero</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Tabla de contenidos</div>
<ul class="sectlevel1">
<li><a href="#vision-general">VisiÃ³n general</a>
<ul class="sectlevel2">
<li><a href="#ejecutar-app">CÃ³mo ejecutar la aplicaciÃ³n</a></li>
<li><a href="#_consumir_la_api">Consumir la API</a>
<ul class="sectlevel3">
<li><a href="#verbos-http">Verbos HTTP</a></li>
<li><a href="#status-code">CÃ³digos de respuesta HTTP</a></li>
</ul>
</li>
<li><a href="#funcionamiento">CÃ³mo funciona Library Database in Spanish</a>
<ul class="sectlevel3">
<li><a href="#perfiles">Perfiles</a>
<ul class="sectlevel4">
<li><a href="#roles">Roles</a></li>
</ul>
</li>
<li><a href="#contenidos">Contenidos</a>
<ul class="sectlevel4">
<li><a href="#tipos-contenidos">Tipos de contenidos</a>
<ul class="sectlevel5">
<li><a href="#libro">Libro</a></li>
<li><a href="#audio">Audio</a></li>
<li><a href="#video">VÃ­deo</a></li>
</ul>
</li>
<li><a href="#soporte">Soporte</a></li>
</ul>
</li>
<li><a href="#prestamos">PrÃ©stamos</a></li>
</ul>
</li>
<li><a href="#seguridad">AutorizaciÃ³n y autenticaciÃ³n</a>
<ul class="sectlevel3">
<li><a href="#access-refresh">Pares access/refresh token</a>
<ul class="sectlevel4">
<li><a href="#access-token">Access token</a></li>
<li><a href="#refresh-token">Refresh token</a></li>
</ul>
</li>
<li><a href="#signup">CÃ³mo registrarse</a></li>
<li><a href="#login">CÃ³mo abrir sesiÃ³n una vez que ya se estÃ¡ registrado</a></li>
<li><a href="#new-token">CÃ³mo conseguir un nuevo token una vez ha caducado</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#public">Parte pÃºblica</a>
<ul class="sectlevel2">
<li><a href="#_get_contenidossearch">GET <code>/contenidos/search</code></a></li>
<li><a href="#_get_contenidossearchunique">GET <code>/contenidos/search/unique</code></a></li>
<li><a href="#_get_contenidossearchtopprestamos">GET <code>/contenidos/search/topprestamos</code></a></li>
<li><a href="#_get_contenidossearchidid">GET <code>/contenidos/search/id/{id}</code></a></li>
</ul>
</li>
<li><a href="#user">Parte para usuarios</a>
<ul class="sectlevel2">
<li><a href="#_get_user">GET <code>/user</code></a></li>
<li><a href="#update-perfil">PUT <code>/user</code></a></li>
<li><a href="#logout">POST <code>/user/logout</code></a></li>
<li><a href="#delete-perfil">DELETE <code>/user/delete</code></a></li>
<li><a href="#_get_userprestamos">GET <code>/user/prestamos</code></a></li>
<li><a href="#_get_userprestamoshistorial">GET <code>/user/prestamos/historial</code></a></li>
<li><a href="#_get_userprestamostodos">GET <code>/user/prestamos/todos</code></a></li>
<li><a href="#prestar">POST <code>/user/prestar/{id}</code></a></li>
<li><a href="#devolver">POST <code>/user/devolver/{id}</code></a></li>
</ul>
</li>
<li><a href="#staff">Parte para trabajadores</a>
<ul class="sectlevel2">
<li><a href="#_post_contenidos">POST <code>/contenidos</code></a></li>
<li><a href="#_put_contenidosid">PUT <code>/contenidos/{id}</code></a></li>
<li><a href="#_delete_contenidosid">DELETE <code>/contenidos/{id}</code></a></li>
<li><a href="#_get_perfilessearch">GET <code>/perfiles/search</code></a></li>
<li><a href="#_get_perfilessearchidid">GET <code>/perfiles/search/id/{id}</code></a></li>
<li><a href="#_get_perfilessearchusernameusername">GET <code>/perfiles/search/username/{username}</code></a></li>
<li><a href="#_get_prestamossearch">GET <code>/prestamos/search</code></a></li>
<li><a href="#_get_prestamossearchidid">GET <code>/prestamos/search/id/{id}</code></a></li>
<li><a href="#prestar-trans">POST <code>/prestar</code></a></li>
<li><a href="#devolver-trans">POST <code>/devolver</code></a></li>
</ul>
</li>
<li><a href="#admin">Parte para administradores</a>
<ul class="sectlevel2">
<li><a href="#_put_authlogoutusername">PUT <code>/auth/logout/{username}</code></a></li>
<li><a href="#delete-auth">DELETE <code>/auth/delete/{username}</code></a></li>
<li><a href="#_post_perfiles">POST <code>/perfiles</code></a></li>
<li><a href="#_put_perfilesid">PUT <code>/perfiles/{id}</code></a></li>
<li><a href="#_put_perfilesrolesidrole">PUT <code>/perfiles/roles/{id}/{role}</code></a></li>
<li><a href="#_delete_perfilesid">DELETE <code>/perfiles/{id}</code></a></li>
<li><a href="#_post_prestamos">POST <code>/prestamos</code></a></li>
<li><a href="#_put_prestamosid">PUT <code>/prestamos/{id}</code></a></li>
<li><a href="#_delete_prestamosid">DELETE <code>/prestamos/{id}</code></a></li>
</ul>
</li>
<li><a href="#_contribuir">Contribuir</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="vision-general">VisiÃ³n general</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Library Database in Spanish es un programa que sirve como servidor de una app que controla los prÃ©stamos, contenidos y usuarios de una biblioteca, teniendo funcionalidades para usuarios anÃ³nimos, clientes de la biblioteca, trabajadores de la biblioteca y administradores del sistema.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Se recomienda leer el Empezando del README.md antes de ejecutar el programa.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="ejecutar-app">CÃ³mo ejecutar la aplicaciÃ³n</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>En <code>src/main/resources/application.properties</code>, cambia el valor de <code>jwt.issuer</code> a tu compaÃ±Ã­a, <code>jwt.secret</code> a una string de al menos 256 bits.</p>
</li>
<li>
<p>Abre una terminal en el directorio del proyecto.</p>
</li>
<li>
<p>Ejecuta el siguiente comando para ejecutar la aplicaciÃ³n:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw spring-boot:run</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_consumir_la_api">Consumir la API</h3>
<div class="paragraph">
<p>La API de Library Database in Spanish es una <a href="https://es.wikipedia.org/wiki/Transferencia_de_Estado_Representacional">API REST</a>, por lo que intenta seguir los estÃ¡ndares de HTTP y REST.</p>
</div>
<div class="sect3">
<h4 id="verbos-http">Verbos HTTP</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Verbo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>GET</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Usado para conseguir un recurso existente</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>POST</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Usado para crear un nuevo recurso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>PUT</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Usado para actualizar un recurso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>DELETE</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Usado para eliminar un recurso existente</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="status-code">CÃ³digos de respuesta HTTP</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">CÃ³digo</th>
<th class="tableblock halign-left valign-top">DescripciÃ³n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>200 OK</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">La solicitud ha tenido Ã©xito</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>201 Created</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">El recurso ha sido creado correctamente</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>400 Bad Request</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">La solicitud no es vÃ¡lida</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>401 Unauthorized</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">El usuario no tiene autorizaciÃ³n para realizar la solicitud, pero puede conseguirla</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>403 Forbidden</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">El usuario no tiene los permisos suficientes para realizar la solicitud</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>404 Not Found</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">El recurso que se pide no ha sido encontrado</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>409 Conflict</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">La solicitud quiere hacer algo que entra en conflicto con el servidor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>410 Gone</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">El token de refresco ha caducado</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>500 Internal Server Error</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">El servidor no ha realizado la solicitud (usado para los errores que no son seguidos en el programa)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>501 Not Implemented</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">La solicitud no estÃ¡ soportada por el servidor</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Con los cÃ³digos 4xx y 5xx se adjuntarÃ¡ cuerpo de respuesta especÃ­fico con la siguiente estructura:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/error/response-fields.adoc[]</p>
</div>
<div class="paragraph">
<p>Si son 2xx, la respuesta serÃ¡ la de la solicitud.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="funcionamiento">CÃ³mo funciona Library Database in Spanish</h3>
<div class="sect3">
<h4 id="perfiles">Perfiles</h4>
<div class="paragraph">
<p>Debido a que los usuarios de la biblioteca necesitan ser registrados, Library Database in Spanish tiene una secciÃ³n dedicada a los perfiles.</p>
</div>
<div id="perfil-response" class="paragraph">
<div class="title">Respuesta Perfil</div>
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/insert-perfil/response-fields.adoc[]</p>
</div>
<div id="perfil-request" class="paragraph">
<div class="title">Solicitud Perfil</div>
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/insert-perfil/request-fields.adoc[]</p>
</div>
<div class="sect4">
<h5 id="roles">Roles</h5>
<div class="paragraph">
<p>Como los perfiles de una bibloteca pueden desempeÃ±ar diferentes papeles, hay tres tipos de usuarios:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Rol</th>
<th class="tableblock halign-left valign-top">DescripciÃ³n</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>ROLE_USER</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Los usuarios normales de la biblioteca</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>ROLE_STAFF</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Los trabajadores de la biblioteca</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>ROLE_ADMIN</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Los administradores de la biblioteca</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="contenidos">Contenidos</h4>
<div class="paragraph">
<p>Debido a que una biblioteca tiene contenidos que prestar, Library Database in Spanish tiene una secciÃ³n en la que permite buscar y controlar los contenidos.</p>
</div>
<div class="sect4">
<h5 id="tipos-contenidos">Tipos de contenidos</h5>
<div class="paragraph">
<p>Como los contenidos de una biblioteca pueden ser muy variados, Library Database in Spanish ha hecho tres tipos principales en los que pueden encajar prÃ¡cticamente todos los contenidos de una biblioteca.</p>
</div>
<div class="sect5">
<h6 id="libro">Libro</h6>
<div class="paragraph">
<p>Este grupo incluye a todos los contenidos que contienen texto, ya sean libros en papel o e-books.</p>
</div>
<div id="libro-response" class="paragraph">
<div class="title">Respuesta Libro</div>
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/insert-libro/response-fields.adoc[]</p>
</div>
<div id="libro-request" class="paragraph">
<div class="title">Solicitud Libro</div>
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/insert-libro/request-fields.adoc[]</p>
</div>
</div>
<div class="sect5">
<h6 id="audio">Audio</h6>
<div class="paragraph">
<p>Este grupo incluye a todos los contenidos que se basen en sonido, como los discos de vinilo, etc.</p>
</div>
<div id="audio-response" class="paragraph">
<div class="title">Respuesta Audio</div>
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/insert-audio/response-fields.adoc[]</p>
</div>
<div id="audio-request" class="paragraph">
<div class="title">Solicitud Audio</div>
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/insert-audio/request-fields.adoc[]</p>
</div>
</div>
<div class="sect5">
<h6 id="video">VÃ­deo</h6>
<div class="paragraph">
<p>Este grupo incluye a todos los contenidos audiovisuales, como las pelÃ­culas, los documentales, etc.</p>
</div>
<div id="video-response" class="paragraph">
<div class="title">Respuesta VÃ­deo</div>
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/insert-video/response-fields.adoc[]</p>
</div>
<div id="video-request" class="paragraph">
<div class="title">Solicitud VÃ­deo</div>
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/insert-video/request-fields.adoc[]</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="soporte">Soporte</h5>
<div class="paragraph">
<p>Los soportes en los que los contenidos pueden estar:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 60%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Soporte</th>
<th class="tableblock halign-left valign-top">DescripciÃ³n</th>
<th class="tableblock halign-left valign-top">Tipos</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>FISICO</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">El libro de papel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Libro</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>E_BOOK</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">El libro electrÃ³nico</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Libro</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>CD</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">El cd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Audio, VÃ­deo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>DVD</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">El dvd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Audio, VÃ­deo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>BLURAY</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">El bluray</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Audio, VÃ­deo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>VINILO</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">El disco de vinilo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Audio</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>CASETE</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">La cinta de casete</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Audio</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="prestamos">PrÃ©stamos</h4>
<div class="paragraph">
<p>Debido a que Library Database in Spanish es una biblioteca hecha para prestar libros, hay una secciÃ³n dedicada a los prÃ©stamos.</p>
</div>
<div id="prestamo-response" class="paragraph">
<div class="title">Respuesta PrÃ©stamo</div>
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/insert-prestamo/response-fields.adoc[]</p>
</div>
<div id="prestamo-request" class="paragraph">
<div class="title">Solicitud PrÃ©stamo</div>
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/insert-prestamo/request-fields.adoc[]</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="seguridad">AutorizaciÃ³n y autenticaciÃ³n</h3>
<div class="paragraph">
<p>Library Database in Spanish utiliza tokens para la autorizaciÃ³n de solicitudes.
Aun asÃ­, hay partes de la API que sÃ­ <a href="#public">son accesibles sin autorizaciÃ³n</a></p>
</div>
<div class="sect3">
<h4 id="access-refresh">Pares access/refresh token</h4>
<div class="paragraph">
<p>La autorizaciÃ³n de la API se hace a travÃ©s de pares de <a href="#access-token">access</a> y <a href="#refresh-token">refresh</a> tokens</p>
</div>
<div class="paragraph">
<p>Son algo asÃ­:</p>
</div>
<div id="token-pair" class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/registrarse/http-response.adoc[]</p>
</div>
<div class="sect4">
<h5 id="access-token">Access token</h5>
<div class="paragraph">
<p>Los access token son <a href="https://jwt.io/">JWT</a> que contienen informaciÃ³n sobre el usuario y sirven para autorizar las solicitudes.</p>
</div>
<div class="paragraph">
<p>En cada peticiÃ³n hay que aÃ±adir un header Authorization con la siguiente estructura:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-http hljs" data-lang="http">Authorization: Bearer {access-token}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Solo tienen validez por cinco minutos, por lo que deben ser <a href="#refresh-token">refrescados</a> y no necesitan ser guardados con gran seguridad</p>
</div>
</div>
<div class="sect4">
<h5 id="refresh-token">Refresh token</h5>
<div class="paragraph">
<p>Los refresh token son tokens guardados en base de datos que sirven para conseguir un nuevo access token, por lo que su validez es mayor (una semana) y debe ser guardado con seguridad por ello.</p>
</div>
<div class="paragraph">
<p>Para aprender a usarlos mire <a href="#new-token">CÃ³mo conseguir un nuevo token una vez ha caducado</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="signup">CÃ³mo registrarse</h4>
<div class="paragraph">
<p>Para registrarse en el sistema, envÃ­e una peticiÃ³n <strong>POST</strong> a <code>/auth/signup</code> incluyendo cuerpo de solicitud con la siguiente estructura:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/registrarse/request-fields.adoc[]</p>
</div>
<div class="paragraph">
<p>Se crearÃ¡ un perfil a partir de tu cuerpo de solicitud con <a href="#roles">rol usuario</a>, si es trabajador o administrador de la biblioteca pÃ³ngase en contacto con un administrador para tener el rol que le pertenece.</p>
</div>
<div class="paragraph">
<p>Se devolverÃ¡ un <a href="#access-refresh">par access/refresh token</a> para tener autorizaciÃ³n a los servicios de la API.</p>
</div>
</div>
<div class="sect3">
<h4 id="login">CÃ³mo abrir sesiÃ³n una vez que ya se estÃ¡ registrado</h4>
<div class="paragraph">
<p>Para abrir sesiÃ³n y conseguir los tokens una vez que ya se habÃ­a registrado en el sistema con anterioridad y su refresh token ha caducado, envÃ­e una peticiÃ³n <strong>POST</strong> a <code>/auth/login</code> incluyendo cuerpo de solicitud con la siguiente estructura:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/login/request-fields.adoc[]</p>
</div>
<div class="paragraph">
<p>Se devolverÃ¡ un <a href="#access-refresh">par access/refresh token</a> para tener autorizaciÃ³n a los servicios de la API.</p>
</div>
</div>
<div class="sect3">
<h4 id="new-token">CÃ³mo conseguir un nuevo token una vez ha caducado</h4>
<div class="paragraph">
<p>Cuando el access token ha caducado, hay que enviar una peticiÃ³n <strong>GET</strong> a <code>/auth/token/refresh/{token}</code> donde {token} es el refresh token entregado al registrarse.</p>
</div>
<div class="paragraph">
<p>Esta peticiÃ³n devuelve un <a href="#access-refresh">par access/refresh token</a> para tener autorizaciÃ³n a los servicios de la API. HabrÃ¡ que cambiar los actuales access y refresh tokens a los devueltos por esta peticiÃ³n, ya que los antiguos se eliminan.</p>
</div>
<div class="paragraph">
<p>Si el refresh token ha caducado tambiÃ©n haga lo indicado en el siguiente <a href="#login">apartado</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="public">Parte pÃºblica</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para hacer peticiones a esta secciÃ³n no necesitas autorizaciÃ³n de ningÃºn tipo.</p>
</div>
<div class="sect2">
<h3 id="_get_contenidossearch">GET <code>/contenidos/search</code></h3>
<div class="paragraph">
<p>Este mÃ©todo sirve para buscar contenidos en la base de datos segÃºn los siguientes parÃ¡metros:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/get-contenidos-by-params/request-parameters.adoc[]</p>
</div>
<div class="paragraph">
<p>Devuelve una lista de contenidos, ya sean <a href="#libro-response">libros</a>, <a href="#audio-response">audios</a> o <a href="#video-response">vÃ­deos</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_get_contenidossearchunique">GET <code>/contenidos/search/unique</code></h3>
<div class="paragraph">
<p>Este mÃ©todo sirve para buscar diferentes modelos de contenidos segÃºn los siguientes parÃ¡metros:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/get-unique-contenidos-by-params/request-parameters.adoc[]</p>
</div>
<div class="paragraph">
<p>Devuelve una lista de modelos de contenidos como la siguiente:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/get-unique-contenidos-by-params/response-fields.adoc[]</p>
</div>
</div>
<div class="sect2">
<h3 id="_get_contenidossearchtopprestamos">GET <code>/contenidos/search/topprestamos</code></h3>
<div class="paragraph">
<p>Este mÃ©todo sirve para buscar los contenidos mÃ¡s prestados de la biblioteca.</p>
</div>
<div class="paragraph">
<div class="title">ParÃ¡metro (por defecto 10, no obligatorio)</div>
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/get-contenidos-top-prestamos/request-parameters.adoc[]</p>
</div>
<div class="paragraph">
<p>Devuelve una lista de contenidos, ya sean <a href="#libro-response">libros</a>, <a href="#audio-response">audios</a> o <a href="#video-response">vÃ­deos</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_get_contenidossearchidid">GET <code>/contenidos/search/id/{id}</code></h3>
<div class="paragraph">
<p>Busca un contenido con la id del parÃ¡metro id:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/get-contenido-by-id/path-parameters.adoc[]</p>
</div>
<div class="paragraph">
<p>Devuelve un <a href="#tipos-contenidos">contenido</a> o un error 404 si no ha sido encontrado.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user">Parte para usuarios</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para hacer peticiones a esta secciÃ³n se necesita una <a href="#seguridad">autorizaciÃ³n</a> hecha con un perfil que tenga <a href="#roles">rol de usuario (ROLE_USER)</a></p>
</div>
<div class="sect2">
<h3 id="_get_user">GET <code>/user</code></h3>
<div class="paragraph">
<p>Este mÃ©todo devuelve la informaciÃ³n completa del perfil al cual pertenece el token de autorizaciÃ³n, con la siguiente estructura:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/get-my-info/response-fields.adoc[]</p>
</div>
</div>
<div class="sect2">
<h3 id="update-perfil">PUT <code>/user</code></h3>
<div class="paragraph">
<p>Este mÃ©todo sirve para actualizar la informaciÃ³n de tu perfil basado en el token de autorizaciÃ³n.
Se debe incluir un cuerpo de solicitud como el siguiente:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/update-my-perfil/request-fields.adoc[]</p>
</div>
<div class="paragraph">
<p>DevolverÃ¡ un <a href="#perfil-response">perfil</a></p>
</div>
</div>
<div class="sect2">
<h3 id="logout">POST <code>/user/logout</code></h3>
<div class="paragraph">
<p>Este mÃ©todo sirve para cerrar sesiÃ³n del usuario, determinado en el token de autorizaciÃ³n.</p>
</div>
</div>
<div class="sect2">
<h3 id="delete-perfil">DELETE <code>/user/delete</code></h3>
<div class="paragraph">
<p>Este mÃ©todo hace lo mismo que <a href="#logout">logout</a> ademÃ¡s de eliminar el perfil de la base de datos.</p>
</div>
</div>
<div class="sect2">
<h3 id="_get_userprestamos">GET <code>/user/prestamos</code></h3>
<div class="paragraph">
<p>Este mÃ©todo devuelve los contenidos que actualmente tiene en prÃ©stamo el perfil al que pertenece el token de autorizaciÃ³n.</p>
</div>
<div class="paragraph">
<p>El cuerpo de respuesta serÃ¡ una lista de contenidos, ya sean <a href="#libro-response">libros</a>, <a href="#audio-response">audios</a> o <a href="#video-response">vÃ­deos</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_get_userprestamoshistorial">GET <code>/user/prestamos/historial</code></h3>
<div class="paragraph">
<p>Este mÃ©todo devuelve los contenidos que el perfil al que pertenece el token de autorizaciÃ³n ha cogido prestados con anterioridad, pero ya ha devuelto.</p>
</div>
<div class="paragraph">
<p>El cuerpo de respuesta serÃ¡ una lista de contenidos, ya sean <a href="#libro-response">libros</a>, <a href="#audio-response">audios</a> o <a href="#video-response">vÃ­deos</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_get_userprestamostodos">GET <code>/user/prestamos/todos</code></h3>
<div class="paragraph">
<p>Este mÃ©todo devuelve los prÃ©stamos que el perfil al que pertenece el token de autorizaciÃ³n ha hecho desde que estÃ¡ regisrtado en la biblioteca, ya sea que hayan sido devueltos o no.</p>
</div>
<div class="paragraph">
<p>El cuerpo de respuesta serÃ¡ una lista de <a href="#prestamo-response">prÃ©stamos</a></p>
</div>
</div>
<div class="sect2">
<h3 id="prestar">POST <code>/user/prestar/{id}</code></h3>
<div class="paragraph">
<p>Este mÃ©todo coge en prÃ©stamo el contenido con id del parÃ¡metro id para el perfil propietario del token de autorizaciÃ³n.</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/prestar-user/path-parameters.adoc[]</p>
</div>
<div class="paragraph">
<p>Devuelve el <a href="#prestamo-response">prÃ©stamo</a> resultante de la peticiÃ³n.</p>
</div>
</div>
<div class="sect2">
<h3 id="devolver">POST <code>/user/devolver/{id}</code></h3>
<div class="paragraph">
<p>Este mÃ©todo devuelve el contenido con id del parÃ¡metro id para el perfil propietario del token de autorizaciÃ³n.</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/devolver-user/path-parameters.adoc[]</p>
</div>
<div class="paragraph">
<p>Devuelve el <a href="#prestamo-response">prÃ©stamo</a> resultante de la devoluciÃ³n.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="staff">Parte para trabajadores</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para hacer peticiones a esta secciÃ³n se necesita una <a href="#seguridad">autorizaciÃ³n</a> hecha con un perfil que tenga <a href="#roles">rol de trabajador (ROLE_STAFF)</a></p>
</div>
<div class="sect2">
<h3 id="_post_contenidos">POST <code>/contenidos</code></h3>
<div class="paragraph">
<p>Este mÃ©todo sirve para crear un nuevo contenido en la base de datos.</p>
</div>
<div class="paragraph">
<p>El cuerpo de la solicitud (contenido que se crearÃ¡) puede ser un <a href="#libro-request">libros</a>, un <a href="#audio-request">audios</a> o un <a href="#video-request">vÃ­deos</a>.</p>
</div>
<div class="paragraph">
<p>El cuerpo de la repuesta (contenido que se ha creado) serÃ¡ <a href="#libro-response">libros</a>, <a href="#audio-response">audios</a> o <a href="#video-response">vÃ­deos</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_put_contenidosid">PUT <code>/contenidos/{id}</code></h3>
<div class="paragraph">
<p>Este mÃ©todo sirve para actualizar los datos de un contenido de la base de datos segÃºn su id, especificado en el parÃ¡metro id:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/update-contenido/path-parameters.adoc[]</p>
</div>
<div class="paragraph">
<p>El cuerpo de la solicitud (contenido completo con los nuevos datos) puede ser un <a href="#libro-request">libros</a>, un <a href="#audio-request">audios</a> o un <a href="#video-request">vÃ­deos</a>.</p>
</div>
<div class="paragraph">
<p>El cuerpo de la repuesta (contenido modificado) serÃ¡ <a href="#libro-response">libros</a>, <a href="#audio-response">audios</a> o <a href="#video-response">vÃ­deos</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_delete_contenidosid">DELETE <code>/contenidos/{id}</code></h3>
<div class="paragraph">
<p>Este mÃ©todo sirve para borrar un contenido de la base de datos segÃºn su id, especificado en el parÃ¡metro id:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/delete-contenido/path-parameters.adoc[]</p>
</div>
</div>
<div class="sect2">
<h3 id="_get_perfilessearch">GET <code>/perfiles/search</code></h3>
<div class="paragraph">
<p>Este mÃ©todo devuelve una lista de <a href="#perfil-response">perfiles</a> basado en los siguiente parÃ¡metros:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/get-perfil-by-params/request-parameters.adoc[]</p>
</div>
</div>
<div class="sect2">
<h3 id="_get_perfilessearchidid">GET <code>/perfiles/search/id/{id}</code></h3>
<div class="paragraph">
<p>Este mÃ©todo busca un perfil basado en el parÃ¡metro id:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/get-perfil-by-id/path-parameters.adoc[]</p>
</div>
<div class="paragraph">
<p>Devuelve un <a href="#perfil-response">perfiles</a> o un error 404.</p>
</div>
</div>
<div class="sect2">
<h3 id="_get_perfilessearchusernameusername">GET <code>/perfiles/search/username/{username}</code></h3>
<div class="paragraph">
<p>Este mÃ©todo busca un perfil basado en el parÃ¡metro username:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/get-perfil-by-username/path-parameters.adoc[]</p>
</div>
<div class="paragraph">
<p>Devuelve un <a href="#perfil-response">perfiles</a> o un error 404.</p>
</div>
</div>
<div class="sect2">
<h3 id="_get_prestamossearch">GET <code>/prestamos/search</code></h3>
<div class="paragraph">
<p>Este mÃ©todo devuelve una lista de <a href="#prestamo-response">prÃ©stamos</a> basado en los siguientes parÃ¡metros:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/get-prestamos-by-params/request-parameters.adoc[]</p>
</div>
</div>
<div class="sect2">
<h3 id="_get_prestamossearchidid">GET <code>/prestamos/search/id/{id}</code></h3>
<div class="paragraph">
<p>Este mÃ©todo busca un prÃ©stamo basado el el parÃ¡metro id:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/get-prestamo-by-id/path-parameters.adoc[]</p>
</div>
<div class="paragraph">
<p>Devuelve un <a href="#prestamo-response">prÃ©stamo</a> o un error 404.</p>
</div>
</div>
<div class="sect2">
<h3 id="prestar-trans">POST <code>/prestar</code></h3>
<div class="paragraph">
<p>Este mÃ©todo sirve para que el perfil con la id del parÃ¡metro "perfil" coja prestado el contenido con la id del parÃ¡metro "contenido".
.ParÃ¡metros de la solicitud</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/prestar-transacciones/request-parameters.adoc[]</p>
</div>
<div class="paragraph">
<p>Devuelve el <a href="#prestamo-response">prÃ©stamo</a> resultante de la peticiÃ³n.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Para coger algo prestado para uno mismo, se recomienda usar <a href="#prestar">este otro mÃ©todo</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="devolver-trans">POST <code>/devolver</code></h3>
<div class="paragraph">
<p>Este mÃ©todo sirve para que el perfil con la id del parÃ¡metro "perfil" devuelva el contenido con la id del parÃ¡metro "contenido".
.ParÃ¡metros de la solicitud</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/devolver-transacciones/request-parameters.adoc[]</p>
</div>
<div class="paragraph">
<p>Devuelve el <a href="#prestamo-response">prÃ©stamo</a> resultante de la devoluciÃ³n.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Para devolver algo por uno mismo, se recomienda usar <a href="#devolver">este otro mÃ©todo</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="admin">Parte para administradores</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para hacer peticiones a esta secciÃ³n se necesita una <a href="#seguridad">autorizaciÃ³n</a> hecha con un perfil que tenga <a href="#roles">rol de administrador (ROLE_ADMIN)</a></p>
</div>
<div class="sect2">
<h3 id="_put_authlogoutusername">PUT <code>/auth/logout/{username}</code></h3>
<div class="paragraph">
<p>Este mÃ©todo sirve para cerrar la sesiÃ³n de un perfil determinado por el parÃ¡metro username:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/logout/path-parameters.adoc[]</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Para cerrar la sesiÃ³n de uno mismo, se recomienda usar <a href="#logout">este otro mÃ©todo</a>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="delete-auth">DELETE <code>/auth/delete/{username}</code></h3>
<div class="paragraph">
<p>Este mÃ©todo sirve para eliminar un perfil y cerrar su sesiÃ³n determinado por el parÃ¡metro username:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/delete-perfil-logout/path-parameters.adoc[]</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Para borrar el perfil de uno mismo, se recomienda usar <a href="#delete-perfil">este otro mÃ©todo</a>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_post_perfiles">POST <code>/perfiles</code></h3>
<div class="paragraph">
<p>Este mÃ©todo sirve para crear un nuevo perfil en la base de datos.</p>
</div>
<div class="paragraph">
<p>El cuerpo de la solicitud (perfil que se crearÃ¡) es un <a href="#perfil-request">perfil</a></p>
</div>
<div class="paragraph">
<p>El cuerpo de la respuesta (perfil que se ha creado) es un <a href="#perfil-response">perfil</a></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Si se quiere crear un perfil de usuario, se recomienda usar <a href="#signup">este otro mÃ©todo</a>, que ademÃ¡s abre una sesiÃ³n.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_put_perfilesid">PUT <code>/perfiles/{id}</code></h3>
<div class="paragraph">
<p>Este mÃ©todo sirve para actualizar los datos de un perfil determinado por el parÃ¡metro id:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/update-perfil-perfiles/path-parameters.adoc[]</p>
</div>
<div class="paragraph">
<p>El cuerpo de la solicitud (perfil completo con los nuevos datos) es un <a href="#perfil-request">perfil</a></p>
</div>
<div class="paragraph">
<p>El cuerpo de la respuesta (perfil modificado) es un <a href="#perfil-response">perfil</a></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Si se quiere actualizar el perfil de uno mismo, se recomienda usar <a href="#update-perfil">este otro mÃ©todo</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_put_perfilesrolesidrole">PUT <code>/perfiles/roles/{id}/{role}</code></h3>
<div class="paragraph">
<p>Este mÃ©todo sirve para modificar el rol de un usuario en la base de datos.
.ParÃ¡metros de la solicitud</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/set-role/path-parameters.adoc[]</p>
</div>
</div>
<div class="sect2">
<h3 id="_delete_perfilesid">DELETE <code>/perfiles/{id}</code></h3>
<div class="paragraph">
<p>Este mÃ©todo sirve para eliminar un perfil de la base de datos segÃºn su parÃ¡metro id:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/delete-perfil-perfiles/path-parameters.adoc[]</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Se recomienda usar <a href="#delete-auth">este otro mÃ©todo</a> para eliminar los perfiles ya que tambiÃ©n cierra si sesiÃ³n.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_post_prestamos">POST <code>/prestamos</code></h3>
<div class="paragraph">
<p>Este mÃ©todo sirve para crear un nuevo prÃ©stamo en la base de datos.</p>
</div>
<div class="paragraph">
<p>El cuerpo de la solicitud (prÃ©stamo que se crearÃ¡) es un <a href="#prestamo-request">prÃ©stamo</a></p>
</div>
<div class="paragraph">
<p>El cuerpo de la respuesta (prÃ©stamo que se ha creado) es un <a href="#prestamo-response">prÃ©stamo</a></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Se recomienda usar <a href="#prestar">este otro mÃ©todo</a> o <a href="#prestar-trans">este otro</a> para crear un prÃ©stamo.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_put_prestamosid">PUT <code>/prestamos/{id}</code></h3>
<div class="paragraph">
<p>Este mÃ©todo sirve para actualizar los datos de un prÃ©stamo determinado por el parÃ¡metro id:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/update-prestamo/path-parameters.adoc[]</p>
</div>
<div class="paragraph">
<p>El cuerpo de la solicitud (prÃ©stamo completo con los nuevos datos) es un <a href="#prestamo-request">prÃ©stamo</a></p>
</div>
<div class="paragraph">
<p>El cuerpo de la respuesta (prÃ©stamo modificado) es un <a href="#prestamo-response">prÃ©stamo</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_delete_prestamosid">DELETE <code>/prestamos/{id}</code></h3>
<div class="paragraph">
<p>Este mÃ©todo sirve para eliminar un prÃ©stamo de la base de datos segÃºn su parÃ¡metro id:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in index.adoc - include::D:\ProgramaciÃ³n\Java\database-server\target/generated-snippets/delete-prestamo/path-parameters.adoc[]</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_contribuir">Contribuir</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Si hace alguna modificaciÃ³n o aÃ±ade algo al proyecto, escriba el test para generar el snippet de <a href="https://docs.spring.io/spring-restdocs/docs/current/reference/html5/">Spring Rest Docs</a> y aÃ±Ã¡dalo a la plantilla localizada en src/main/asciidoc/index.adoc.</p>
</div>
<div class="paragraph">
<p>Luego ejecuta el siguiente comando en el directorio del proyecto para generar el nuevo index.html:</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-09-16 20:39:44 +0200
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/highlight.min.js"></script>
<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code')).forEach(function (el) { hljs.highlightBlock(el) })
}
</script>
</body>
</html>